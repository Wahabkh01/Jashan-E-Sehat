<!-- views/homepage.ejs -->
<!DOCTYPE html>

<head>
    <title>Homepage</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
        }

        .text-center {
            padding: 5%;
            
        }

        body {
            font-family: Helvetica;
            -webkit-font-smoothing: antialiased;
            background: #f8f8f8;
            margin: 0;
            /* Added to remove default body margin */
            padding: 0;
            /* Added to remove default body padding */
        }

        h2 {
            text-align: center;
            font-size: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: dimgray;
            font-family: Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif;
            font-weight: bold;
            padding: 30px 0;
        }

        .container {
            margin: 10px auto;
            /* Center the container */
            max-width: 800px;
            /* Set a maximum width */
            padding: 0 15px;
            /* Add padding to the sides */
        }

        .fl-table {
            border-radius: 5px;
            font-size: 12px;
            font-weight: normal;
            border: none;
            border-collapse: collapse;
            width: 100%;
            max-width: 100%;
            white-space: nowrap;
            background-color: white;
            margin-bottom: 20px;
            /* Add margin to the table */
        }

        .fl-table td,
        .fl-table th {
            text-align: center;
            padding: 8px;
        }

        .fl-table td {
            border-right: 1px solid #f8f8f8;
            font-size: 12px;
        }

        .fl-table thead th {
            color: #ffffff;
            background: #eca657;
        }

        .fl-table thead th:nth-child(odd) {
            color: #ffffff;
            background: #e45b1c;
        }

        .fl-table tr:nth-child(even) {
            background: #F8F8F8;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Updated form styling */
        form {
            margin-bottom: 20px;
            /* Add margin to the form */
        }

        .form-group {
            margin-bottom: 15px;
            /* Add margin to form groups */
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        nav ul {
            background-color: #e45b1c;
            overflow: hidden;
            color: white;
            padding: 0;
            text-align: center;
            margin: 0;
            -webkit-transition: max-height 0.4s;
            -ms-transition: max-height 0.4s;
            -moz-transition: max-height 0.4s;
            -o-transition: max-height 0.4s;
            transition: max-height 0.4s;
        }

        nav ul li {
            display: inline-block;
            padding: 20px;

        }

        nav ul li:hover {
            background-color: #f8f8f8;
            color: dimgray;
        }

        section {
            line-height: 1.5em;
            font-size: 0.9em;
            padding: 40px;
            width: 75%;
            margin: 0 auto;
        }

        .handle {
            width: 100%;
            background: #005c48;
            text-align: left;
            box-sizing: border-box;
            padding: 15px 10px;
            cursor: pointer;
            color: white;
            display: none
        }

        @media (max-width: 767px) {

            nav ul {
                max-height: 0;
            }

            .showing {
                max-height: 20em;
            }

            nav ul li {
                box-sizing: border-box;
                width: 100%;
                padding: 15px;
                text-align: center;
            }

            .fl-table {
                display: block;
                width: 100%;
            }


            .table-wrapper:before {
                content: "Scroll horizontally >";
                display: block;
                text-align: right;
                font-size: 11px;
                color: white;
                padding: 0 0 10px;
            }

            .fl-table thead,
            .fl-table tbody,
            .fl-table thead th {
                display: block;
            }

            .fl-table thead th:last-child {
                border-bottom: none;
            }

            .fl-table thead {
                float: left;
            }

            .fl-table tbody {
                width: auto;
                position: relative;
                overflow-x: auto;
            }

            .fl-table td,
            .fl-table th {
                padding: 20px .625em .625em .625em;
                height: 60px;
                vertical-align: middle;
                box-sizing: border-box;
                overflow-x: hidden;
                overflow-y: auto;
                width: 120px;
                font-size: 13px;
                text-overflow: ellipsis;
            }

            .fl-table thead th {
                text-align: left;
                border-bottom: 1px solid #f7f7f9;
            }

            .fl-table tbody tr {
                display: table-cell;
            }

            .fl-table tbody tr:nth-child(odd) {
                background: none;
            }

            .fl-table tr:nth-child(even) {
                background: transparent;
            }

            .fl-table tr td:nth-child(odd) {
                background: #F8F8F8;
                border-right: 1px solid #E6E4E4;
            }

            .fl-table tr td:nth-child(even) {
                border-right: 1px solid #E6E4E4;
            }

            .fl-table tbody td {
                display: block;
                text-align: center;
            }
        }

        .cover {
            height: 100%;
            width: 100%;
            position: absolute;
            z-index: 1;
        }

        .blur-in {
            -webkit-animation: blur 2s forwards;
            -moz-animation: blur 2s forwards;
            -o-animation: blur 2s forwards;
            animation: blur 2s forwards;
        }

        .blur-out {
            -webkit-animation: blur-out 2s forwards;
            -moz-animation: blur-out 2s forwards;
            -o-animation: blur-out 2s forwards;
            animation: blur-out 2s forwards;
        }

        @-webkit-keyframes blur {
            0% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }

            100% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }
        }

        @-moz-keyframes blur {
            0% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }

            100% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }
        }

        @-o-keyframes blur {
            0% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }

            100% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }
        }

        @keyframes blur {
            0% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }

            100% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }
        }

        @-webkit-keyframes blur-out {
            0% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }

            100% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }
        }

        @-moz-keyframes blur-out {
            0% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }

            100% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }
        }

        @-o-keyframes blur-out {
            0% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }

            100% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }
        }

        @keyframes blur-out {
            0% {
                -webkit-filter: blur(4px);
                -moz-filter: blur(4px);
                -o-filter: blur(4px);
                -ms-filter: blur(4px);
                filter: blur(4px);
            }

            100% {
                -webkit-filter: blur(0px);
                -moz-filter: blur(0px);
                -o-filter: blur(0px);
                -ms-filter: blur(0px);
                filter: blur(0px);
            }
        }


        span {
            color: dimgray;
        }

        .pop-up {
            position: fixed;
            margin: 5% auto;
            left: 0;
            right: 0;
            z-index: 2;
        }

        .box {
            background-color: whitesmoke;
            text-align: center;
            margin-left: auto;
            margin-right: auto;
            margin-top: 10%;
            position: relative;
            -webkit-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
            -moz-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
            box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
        }

        .button {
            margin: 0 auto;
            background-color: #FF8566;
            margin-bottom: 33px;
        }

        .button:hover {
            background-color: #7CCF29;
            -webkit-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
            -moz-box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
            box-shadow: 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
        }

        .close-button {
            transition: all 0.5s ease;
            position: absolute;
            background-color: #FF9980;
            padding: 1.5px 7px;
            left: 0;
            margin-left: -10px;
            margin-top: -9px;
            border-radius: 50%;
            border: 2px solid #fff;
            color: white;
            -webkit-box-shadow: -4px -2px 6px 0px rgba(0, 0, 0, 0.1);
            -moz-box-shadow: -4px -2px 6px 0px rgba(0, 0, 0, 0.1);
            box-shadow: -3px 1px 6px 0px rgba(0, 0, 0, 0.1);
        }

        .close-button:hover {
            background-color: tomato;
            color: #fff;
        }

        h3 {
            text-align: center;
            padding-top: 15px;
            padding-bottom: 15px;
            color: #fff;
            background-color: #FF704D;
        }

        p {
            padding: 20px 65px 10px 65px;
            color: dimgray;
        }

        h1 {
            color: dimgray;
            font-family: Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif;
        }
        .btn{
            background-color: #e45b1c;
            color: white;
        }
    </style>
</head>


<html>

<body>

    <div class="row pop-up">
        <div class="box small-6 large-centered">
            <a href="#" class="close-button">&#10006;</a>
            <h3>lorem ipsum</h3>
            <p>Integer non odio id ante rutrum dictum. Nam ac dapibus felis, at pharetra sapien. </p>
            <p>Maecenas lacus nisi, pellentesque a congue vel, rhoncus sit amet lacus. Sed mattis ultrices risus
                in tincidunt.</p>
            <a href="#" class="button">Learn More</a>
        </div>
    </div>
    <nav>
        <ul>
            <a href="/login/patients">
                <li>Patients</li>
            </a>            
            <a href="/login/medications">
                <li>Medications</li>
            </a>
            <a href="/login/appointments">
                <li>Appointments</li>
            </a>
            <a href="/login/hospitals">
                <li>Hospitals</li>
            </a>
        </ul>
        
        <div class="handle">Menu</div>
    </nav>

    <div id="overlay" class="cover blur-in">

        <div class="container">
            <div class="table-wrapper">
                <h1 class="text-center">Doctor Information</h1>
                <table class="fl-table">
                    <thead>
                        <tr>
                            <th>Dno</th>
                            <th>Name</th>
                            <th>Dob</th>
                            <th>Sex</th>
                            <th>Qualifications</th>
                            <th>Salary</th>
                            <th>Class</th>
                            <th>ContactInfo</th>
                            <th>Actions</th> <!-- Added column for CRUD actions -->
                        </tr>
                    </thead>
                    <tbody>
                        <% doctors.forEach(function(doctor) { %>
                            <tr>
                                <td>
                                    <%= doctor.Dno %>
                                </td>
                                <td>
                                    <%= doctor.Name %>
                                </td>
                                <td>
                                    <%= doctor.Dob ? doctor.Dob.toDateString() : 'N/A' %>
                                </td>
                                <td>
                                    <%= doctor.Sex %>
                                </td>
                                <td>
                                    <%= doctor.Qualifications %>
                                </td>
                                <td>
                                    <%= doctor.Salary %>
                                </td>
                                <td>
                                    <%= doctor.Class %>
                                </td>
                                <td>
                                    <%= doctor.ContactInfo %>
                                </td>
                                <td>
                                    <a href="/login/homepage/delete/<%= doctor.Dno %>"
                                        onclick="return confirm('Are you sure you want to delete this doctor?')">Delete</a>
                                </td>
                            </tr>
                            <% }); %>
                    </tbody>
                </table>
            </div>

            <div>
                <h2 class="text-center">Add New Doctor</h2>
                <form method="post" action="/login/homepage">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Name" name="name" required>
                    </div>
                    <div class="form-group">
                        <input type="date" class="form-control" placeholder="Date of Birth" name="dob" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Sex" name="sex" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Qualifications" name="qualifications"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="number" class="form-control" placeholder="Salary" name="salary" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Class" name="class" required>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Contact Info" name="contactInfo" required>
                    </div>
                    <button type="submit" class="btn btn-primary mb-2">Add Doctor</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Bootstrap validation script
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
    <script>
        // Bootstrap validation script
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
    <script>
        $(function () {
            $('.pop-up').hide();
            $('.pop-up').fadeIn(1000);

            $('.close-button').click(function (e) {

                $('.pop-up').fadeOut(700);
                $('#overlay').removeClass('blur-in');
                $('#overlay').addClass('blur-out');
                e.stopPropagation();

            });
        });
    </script>


</body>

</html>